{"version":3,"sources":["item/Item.styles.ts","item/Item.tsx","cartItem/CartItem.styles.ts","cartItem/CartItem.tsx","cart/Cart.styles.ts","cart/Cart.tsx","App.styles.ts","App.tsx","index.tsx"],"names":["Wrapper","styled","div","Item","item","handleAddToCart","src","image","alt","description","title","price","Button","onClick","CartItem","addToCart","removeFromCart","className","amount","toFixed","size","disableElevation","variant","id","aside","Cart","items","cartItems","length","map","reduce","accumulator","StyledButton","IconButton","getProducts","a","fetch","json","App","useState","cartIsOpen","setCartIsOpen","setCartItems","useQuery","data","isLoading","error","console","log","clickedItem","prev","find","LinearProgress","Drawer","anchor","open","onClose","Badge","badgeContent","color","Grid","container","spacing","xs","sm","client","QueryClient","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0889666e.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  border: 1px solid lightblue;\r\n  border-radius: 20px;\r\n  height: 100%;\r\n\r\n  button {\r\n    border-radius: 0 0 20px 20px;\r\n  }\r\n\r\n  img {\r\n    max-height: 250px;\r\n    object-fit: cover;\r\n    border-radius: 20px 20px 0 0;\r\n  }\r\n\r\n  div {\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    padding: 1rem;\r\n    height: 100%;\r\n  }\r\n`;\r\n","import { Button } from \"@material-ui/core\";\r\n// Types\r\nimport { CartItemType } from \"../App\";\r\n// styles\r\nimport { Wrapper } from \"./Item.styles\";\r\n\r\ntype PropsType = {\r\n  item: CartItemType;\r\n  handleAddToCart: (clickedItem: CartItemType) => void;\r\n};\r\n\r\nconst Item: React.FC<PropsType> = ({ item, handleAddToCart }) => (\r\n  <Wrapper>\r\n    <img src={item.image} alt={item.description} />\r\n    <div>\r\n      <h3>{item.title}</h3>\r\n      <p>{item.description}</p>\r\n      <h3>${item.price}</h3>\r\n    </div>\r\n    <Button onClick={() => handleAddToCart(item)}>Add to cart</Button>\r\n  </Wrapper>\r\n);\r\n\r\nexport default Item;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  border-bottom: 1px solid lightblue;\r\n  padding-bottom: 20px;\r\n\r\n  div {\r\n    flex: 1;\r\n  }\r\n\r\n  .information,\r\n  .buttons {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  img {\r\n    max-width: 80px;\r\n    object-fit: cover;\r\n    margin-left: 40px;\r\n  }\r\n`;\r\n","import Button from \"@material-ui/core/Button\";\r\n// Types\r\nimport { CartItemType } from \"../App\";\r\n// styles\r\nimport { Wrapper } from \"./CartItem.styles\";\r\n\r\ntype Props = {\r\n  item: CartItemType;\r\n  addToCart: (clickedItem: CartItemType) => void;\r\n  removeFromCart: (id: number) => void;\r\n};\r\n\r\nconst CartItem: React.FC<Props> = ({ item, addToCart, removeFromCart }) => (\r\n  <Wrapper>\r\n    <div>\r\n      <h3>{item.title}</h3>\r\n      <div className=\"information\">\r\n        <p> Price: ${item.price}</p>\r\n        <p>Total: ${(item.amount * item.price).toFixed(2)} </p>\r\n      </div>\r\n      <div className=\"buttons\">\r\n        <Button\r\n          size=\"small\"\r\n          disableElevation\r\n          variant=\"contained\"\r\n          onClick={() => removeFromCart(item.id)}\r\n        >\r\n          -\r\n        </Button>\r\n        <p>{item.amount}</p>\r\n        <Button\r\n          size=\"small\"\r\n          disableElevation\r\n          variant=\"contained\"\r\n          onClick={() => addToCart(item)}\r\n        >\r\n          +\r\n        </Button>\r\n      </div>\r\n    </div>\r\n    <img src={item.image} alt={item.title} />\r\n  </Wrapper>\r\n);\r\n\r\nexport default CartItem;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.aside`\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  width: 500px;\r\n  padding: 20px;\r\n`;\r\n","import CartItem from \"../cartItem/CartItem\";\r\n// Types\r\nimport { CartItemType } from \"../App\";\r\n// styles\r\nimport { Wrapper } from \"./Cart.styles\";\r\n\r\ntype Props = {\r\n  cartItems: CartItemType[];\r\n  addToCart: (clickedItem: CartItemType) => void;\r\n  removeFromCart: (id: number) => void;\r\n};\r\n\r\nconst Cart: React.FC<Props> = ({ cartItems, addToCart, removeFromCart }) => {\r\n  const calculateTotal = (items: CartItemType[]) => {\r\n    return items.reduce(\r\n      (accumulator: number, item) => accumulator + item.amount * item.price,\r\n      0\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <h2>Your Shopping Cart</h2>\r\n      {cartItems.length === 0 ? <p>No items yet</p> : null}\r\n      {cartItems.map((item) => (\r\n        <CartItem\r\n          key={item.id}\r\n          item={item}\r\n          addToCart={addToCart}\r\n          removeFromCart={removeFromCart}\r\n        />\r\n      ))}\r\n      <h2>Total: ${calculateTotal(cartItems).toFixed(2)}</h2>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import IconButton from \"@material-ui/core/IconButton\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  margin: 40px;\r\n`;\r\n\r\nexport const StyledButton = styled(IconButton)`\r\n  position: fixed;\r\n  z-index: 100;\r\n  right: 20px;\r\n  top: 20px;\r\n`;\r\n","import { useState } from \"react\";\nimport { useQuery } from \"react-query\";\n// components\nimport Drawer from \"@material-ui/core/Drawer\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport Grid from \"@material-ui/core/Grid\";\nimport AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCart\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Item from \"./item/Item\";\nimport Cart from \"./cart/Cart\";\n// styles\nimport { Wrapper, StyledButton } from \"./App.styles\";\n// Types\nexport type CartItemType = {\n  id: number;\n  category: string;\n  description: string;\n  image: string;\n  price: number;\n  title: string;\n  amount: number;\n};\n\nconst getProducts = async (): Promise<CartItemType[]> => {\n  return await (await fetch(\"https://fakestoreapi.com/products\")).json();\n};\n\nfunction App() {\n  const [cartIsOpen, setCartIsOpen] = useState(false);\n  const [cartItems, setCartItems] = useState([] as CartItemType[]);\n\n  const { data, isLoading, error } = useQuery<CartItemType[]>(\n    \"products\",\n    getProducts\n  );\n\n  console.log(data);\n\n  const getTotalItems = (items: CartItemType[]) => {\n    return items.reduce(\n      (accumulator: number, items) => accumulator + items.amount,\n      0\n    );\n  };\n\n  const handleAddToCart = (clickedItem: CartItemType) => {\n    setCartItems((prev) => {\n      // 1. is the item already added in the cart\n      const isItemInCart = prev.find((item) => item.id === clickedItem.id);\n\n      if (isItemInCart) {\n        return prev.map((item) =>\n          item.id === clickedItem.id\n            ? { ...item, amount: item.amount + 1 }\n            : item\n        );\n      }\n\n      // First time the item is added\n      return [...prev, { ...clickedItem, amount: 1 }];\n    });\n  };\n\n  const handleRemoveFromCart = (id: number) => {\n    setCartItems((prev) =>\n      prev.reduce((accumulator, item) => {\n        if (item.id === id) {\n          if (item.amount === 1) return accumulator;\n\n          return [...accumulator, { ...item, amount: item.amount - 1 }];\n        } else {\n          return [...accumulator, item];\n        }\n      }, [] as CartItemType[])\n    );\n  };\n\n  if (isLoading) return <LinearProgress />;\n  if (error) return <div>Something went wrong...</div>;\n\n  return (\n    <Wrapper>\n      <Drawer\n        anchor=\"right\"\n        open={cartIsOpen}\n        onClose={() => setCartIsOpen(false)}\n      >\n        <Cart\n          cartItems={cartItems}\n          addToCart={handleAddToCart}\n          removeFromCart={handleRemoveFromCart}\n        />\n      </Drawer>\n      <StyledButton onClick={() => setCartIsOpen(true)}>\n        <Badge badgeContent={getTotalItems(cartItems)} color=\"error\">\n          <AddShoppingCartIcon />\n        </Badge>\n      </StyledButton>\n      <Grid container spacing={3}>\n        {data?.map((item) => (\n          <Grid item key={item.id} xs={12} sm={4}>\n            <Item key={item.id} item={item} handleAddToCart={handleAddToCart} />\n          </Grid>\n        ))}\n      </Grid>\n    </Wrapper>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\n\nconst client = new QueryClient();\n\nReactDOM.render(\n  <QueryClientProvider client={client}>\n    <App />\n  </QueryClientProvider>,\n\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}